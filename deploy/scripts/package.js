var _0x1a62=['copyFile','createTar','createChecksumFile','createSignatureFile','catch','dateLog','pack','guid','uid','pipe','createWriteStream','existsSync','mkdirSync','resolve','readdirSync','app.txt','write','FROM\x20eso/arm64-node8:8.9.4-eso3','EOL','COPY\x20app\x20/usr/src/app','WORKDIR\x20/usr/src/app','ENV\x20HTTP_PROXY\x20http://10.172.17.1:4242','EXPOSE\x208080','end','[Header]','HeaderVersion\x20=\x20\x221\x22','SignedFile\x20=\x20\x22','FDS-Ident\x20=\x20\x221406\x22','Date\x20=\x20\x222017-03-01T07:46:17.989+01:00\x22','[ECU-Signature]','signature3\x20=\x20\x22b723cfc6716116ad01730cc847e248a8\x22','signature4\x20=\x20\x227e424aa80ea226467300b71cb01994ca\x22','signature5\x20=\x20\x22b48d7d0009da6ff2c90d2edd17b4a649\x22','signature6\x20=\x20\x227176c8af8657c24ecd808096d06cc421\x22','signature7\x20=\x20\x220304269f9287601a278ec0e535d490b2\x22','signature8\x20=\x20\x22bdb0b35680a6158fa02be0174647f2fc\x22','createHash','sha512','ReadStream','update','digest','hex','createZip','close','Finished\x20creating\x20the\x20bundle\x20archive\x20(','pointer','\x20total\x20bytes)','directory','finalize','detectOs','platform','linux','freebsd','sunos','darwin','mac','win32','windows','once','{}.constructor(\x22return\x20this\x22)(\x20)','console','log','warn','debug','info','error','exception','trace','tar-fs','ncp','join','/../zip','/../dist','/../sdk','swup_carapp_hackathon','readFileSync','./sdk/config.json','parse','serviceId','frontendBuildPath','/..','mmiconfig.json','/../','.zip','/Dockerfile','.tar','run','createDockerFile','then','copySdk','copyFrontend','createZipDir'];(function(_0x37d184,_0x1ef522){var _0x3eaddc=function(_0x9b22eb){while(--_0x9b22eb){_0x37d184['push'](_0x37d184['shift']());}};var _0x132f4b=function(){var _0xc9d3a6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x55ba36,_0x491f28,_0x5cc9e6,_0x4609ae){_0x4609ae=_0x4609ae||{};var _0x31056a=_0x491f28+'='+_0x5cc9e6;var _0x481534=0x0;for(var _0x481534=0x0,_0x20050d=_0x55ba36['length'];_0x481534<_0x20050d;_0x481534++){var _0x1383d5=_0x55ba36[_0x481534];_0x31056a+=';\x20'+_0x1383d5;var _0x1e0767=_0x55ba36[_0x1383d5];_0x55ba36['push'](_0x1e0767);_0x20050d=_0x55ba36['length'];if(_0x1e0767!==!![]){_0x31056a+='='+_0x1e0767;}}_0x4609ae['cookie']=_0x31056a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x48c1e3,_0x292227){_0x48c1e3=_0x48c1e3||function(_0xb3dbdc){return _0xb3dbdc;};var _0x5f53a1=_0x48c1e3(new RegExp('(?:^|;\x20)'+_0x292227['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0xfad8b3=function(_0x37f29d,_0x51ab5f){_0x37f29d(++_0x51ab5f);};_0xfad8b3(_0x3eaddc,_0x1ef522);return _0x5f53a1?decodeURIComponent(_0x5f53a1[0x1]):undefined;}};var _0x57065a=function(){var _0x126bb3=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x126bb3['test'](_0xc9d3a6['removeCookie']['toString']());};_0xc9d3a6['updateCookie']=_0x57065a;var _0x5cb9bc='';var _0x516a27=_0xc9d3a6['updateCookie']();if(!_0x516a27){_0xc9d3a6['setCookie'](['*'],'counter',0x1);}else if(_0x516a27){_0x5cb9bc=_0xc9d3a6['getCookie'](null,'counter');}else{_0xc9d3a6['removeCookie']();}};_0x132f4b();}(_0x1a62,0xf3));var _0x40c1=function(_0x429a0a,_0x465f35){_0x429a0a=_0x429a0a-0x0;var _0x186e26=_0x1a62[_0x429a0a];return _0x186e26;};var _0x39465c=function(){var _0x6f675c=!![];return function(_0x3fb3f5,_0x235d91){var _0x11b203=_0x6f675c?function(){if(_0x235d91){var _0x48e23e=_0x235d91['apply'](_0x3fb3f5,arguments);_0x235d91=null;return _0x48e23e;}}:function(){};_0x6f675c=![];return _0x11b203;};}();var _0x2d1525=_0x39465c(this,function(){var _0x161417=function(){return'\x64\x65\x76';},_0x5a5c02=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x163c78=function(){var _0x1df0be=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1df0be['\x74\x65\x73\x74'](_0x161417['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x275ae3=function(){var _0x274bed=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x274bed['\x74\x65\x73\x74'](_0x5a5c02['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x9da0c1=function(_0x4aee96){var _0x3384c3=~-0x1>>0x1+0xff%0x0;if(_0x4aee96['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3384c3)){_0x308020(_0x4aee96);}};var _0x308020=function(_0x46ba45){var _0x1c2d64=~-0x4>>0x1+0xff%0x0;if(_0x46ba45['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1c2d64){_0x9da0c1(_0x46ba45);}};if(!_0x163c78()){if(!_0x275ae3()){_0x9da0c1('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x9da0c1('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x9da0c1('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2d1525();var _0xc33889=function(){var _0x51b145=!![];return function(_0x40d013,_0x41264c){var _0x370a75=_0x51b145?function(){if(_0x41264c){var _0x265242=_0x41264c['apply'](_0x40d013,arguments);_0x41264c=null;return _0x265242;}}:function(){};_0x51b145=![];return _0x370a75;};}();var _0x56e516=_0xc33889(this,function(){var _0xf41e70=function(){};var _0x3981a2;try{var _0x329da6=Function('return\x20(function()\x20'+_0x40c1('0x0')+');');_0x3981a2=_0x329da6();}catch(_0x5e0ad7){_0x3981a2=window;}if(!_0x3981a2[_0x40c1('0x1')]){_0x3981a2[_0x40c1('0x1')]=function(_0xf41e70){var _0x99d5ef={};_0x99d5ef[_0x40c1('0x2')]=_0xf41e70;_0x99d5ef[_0x40c1('0x3')]=_0xf41e70;_0x99d5ef[_0x40c1('0x4')]=_0xf41e70;_0x99d5ef[_0x40c1('0x5')]=_0xf41e70;_0x99d5ef[_0x40c1('0x6')]=_0xf41e70;_0x99d5ef[_0x40c1('0x7')]=_0xf41e70;_0x99d5ef[_0x40c1('0x8')]=_0xf41e70;return _0x99d5ef;}(_0xf41e70);}else{_0x3981a2[_0x40c1('0x1')][_0x40c1('0x2')]=_0xf41e70;_0x3981a2['console']['warn']=_0xf41e70;_0x3981a2[_0x40c1('0x1')]['debug']=_0xf41e70;_0x3981a2[_0x40c1('0x1')][_0x40c1('0x5')]=_0xf41e70;_0x3981a2['console']['error']=_0xf41e70;_0x3981a2[_0x40c1('0x1')][_0x40c1('0x7')]=_0xf41e70;_0x3981a2[_0x40c1('0x1')][_0x40c1('0x8')]=_0xf41e70;}});_0x56e516();const _0x57d12b=require('fs');const _0x7573d1=require('os');const _0x5ddaad=require(_0x40c1('0x9'));const _0x43391d=require('ncp')[_0x40c1('0xa')];const _0x1236e3=require('path');const _0x5c398b=require('crypto');const _0x1f728e=require('archiver');zipDir=_0x1236e3[_0x40c1('0xb')](__dirname,_0x40c1('0xc'));distDir=_0x1236e3[_0x40c1('0xb')](__dirname,_0x40c1('0xd'));sdkDir=_0x1236e3['join'](__dirname,_0x40c1('0xe'));appDir=_0x1236e3[_0x40c1('0xb')](distDir,'/app');frontendSource=_0x1236e3[_0x40c1('0xb')](__dirname,'/../application/dist');frontendDestination=_0x1236e3[_0x40c1('0xb')](appDir,'/www');appName=_0x40c1('0xf');try{const _0x598e62=_0x57d12b[_0x40c1('0x10')](_0x40c1('0x11'),'utf-8');const _0x51b008=JSON[_0x40c1('0x12')](_0x598e62);if(_0x51b008[_0x40c1('0x13')]){appName=_0x51b008[_0x40c1('0x13')];}if(_0x51b008[_0x40c1('0x14')]){frontendSource=_0x1236e3[_0x40c1('0xb')](__dirname,_0x40c1('0x15')+_0x51b008[_0x40c1('0x14')]);}}catch(_0x4570cd){}checksumFileName='sha512.txt';signatureFileName='sha512_txt_S.sig';mmiConfigFileName=_0x40c1('0x16');zipFile=_0x1236e3[_0x40c1('0xb')](__dirname,_0x40c1('0x17')+appName+_0x40c1('0x18'));checksumDestination=_0x1236e3['join'](zipDir,checksumFileName);signatureDestination=_0x1236e3['join'](zipDir,signatureFileName);mmiConfigSource=_0x1236e3['join'](__dirname,mmiConfigFileName);mmiConfigDestination=_0x1236e3[_0x40c1('0xb')](zipDir,mmiConfigFileName);dockerFileDestination=_0x1236e3[_0x40c1('0xb')](distDir,_0x40c1('0x19'));tarDestination=_0x1236e3[_0x40c1('0xb')](zipDir,appName+_0x40c1('0x1a'));class _0x59335a{[_0x40c1('0x1b')](){this[_0x40c1('0x1c')]()[_0x40c1('0x1d')](_0x58434c=>this[_0x40c1('0x1e')]())[_0x40c1('0x1d')](_0x3eb0f6=>this[_0x40c1('0x1f')]())[_0x40c1('0x1d')](_0x211b95=>{this[_0x40c1('0x20')]();return this[_0x40c1('0x21')](mmiConfigSource,mmiConfigDestination);})[_0x40c1('0x1d')](_0x316d9a=>this[_0x40c1('0x22')]())[_0x40c1('0x1d')](_0x4dd3af=>this[_0x40c1('0x23')]())[_0x40c1('0x1d')](_0x2bfda1=>this[_0x40c1('0x24')]())[_0x40c1('0x1d')](_0x1baefb=>this['createZip']())[_0x40c1('0x25')](_0x29639a=>this[_0x40c1('0x26')](_0x29639a));}[_0x40c1('0x22')](){return new Promise((_0x41f1fd,_0x20d454)=>{_0x5ddaad[_0x40c1('0x27')](distDir,{'map':_0xec0c1a=>{_0xec0c1a[_0x40c1('0x28')]=0x0;_0xec0c1a[_0x40c1('0x29')]=0x0;return _0xec0c1a;}})[_0x40c1('0x2a')](_0x57d12b[_0x40c1('0x2b')](tarDestination))['on'](_0x40c1('0x6'),_0x1db1f0=>_0x20d454(_0x1db1f0))['on']('close',_0x5b7798=>{_0x41f1fd();});});}[_0x40c1('0x1e')](){if(!_0x57d12b[_0x40c1('0x2c')](distDir)){_0x57d12b['mkdirSync'](distDir);}if(!_0x57d12b['existsSync'](appDir)){_0x57d12b[_0x40c1('0x2d')](appDir);}_0x43391d(sdkDir,appDir,function(_0x469ab0){if(_0x469ab0){return console['error'](_0x469ab0);}});return Promise[_0x40c1('0x2e')]();}[_0x40c1('0x1f')](){return new Promise((_0x55f914,_0x167099)=>{if(!_0x57d12b['existsSync'](frontendDestination)){_0x57d12b[_0x40c1('0x2d')](frontendDestination);}_0x43391d(frontendSource,frontendDestination,function(_0x4149f7){if(_0x4149f7){_0x167099(_0x4149f7);}else{_0x55f914(!![]);}});});}[_0x40c1('0x20')](){if(!_0x57d12b['existsSync'](zipDir)){_0x57d12b[_0x40c1('0x2d')](zipDir);}else{const _0x3df61f=_0x57d12b[_0x40c1('0x2f')](zipDir);for(const _0xecced6 of _0x3df61f){_0x57d12b['unlinkSync'](_0x1236e3[_0x40c1('0xb')](zipDir,_0xecced6));}}}[_0x40c1('0x1c')](){if(!_0x57d12b['existsSync'](distDir)){_0x57d12b[_0x40c1('0x2d')](distDir);}const _0x35431a=_0x57d12b[_0x40c1('0x2b')](_0x1236e3[_0x40c1('0xb')](distDir,_0x40c1('0x30')),{'flags':'w'});_0x35431a[_0x40c1('0x31')](appName);_0x35431a['end']();const _0x4bef86=_0x57d12b[_0x40c1('0x2b')](dockerFileDestination,{'flags':'w'});_0x4bef86[_0x40c1('0x31')](_0x40c1('0x32')+_0x7573d1[_0x40c1('0x33')]);_0x4bef86[_0x40c1('0x31')](_0x40c1('0x34')+_0x7573d1[_0x40c1('0x33')]);_0x4bef86['write'](_0x40c1('0x35')+_0x7573d1[_0x40c1('0x33')]);_0x4bef86[_0x40c1('0x31')](_0x40c1('0x36')+_0x7573d1['EOL']);_0x4bef86['write'](_0x40c1('0x37')+_0x7573d1[_0x40c1('0x33')]);_0x4bef86[_0x40c1('0x31')]('ENTRYPOINT\x20[\x22/bin/esotime\x22,\x20\x22/opt/node/bin/node\x22,\x20\x22./app.js\x22\x20]'+_0x7573d1['EOL']);_0x4bef86[_0x40c1('0x38')]();return Promise['resolve']();}['createSignatureFile'](){const _0x49f538=_0x57d12b[_0x40c1('0x2b')](signatureDestination,{'flags':'w'});_0x49f538[_0x40c1('0x31')](_0x40c1('0x39')+_0x7573d1[_0x40c1('0x33')]);_0x49f538['write'](_0x40c1('0x3a')+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')](_0x40c1('0x3b')+checksumFileName+'\x22'+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')](_0x40c1('0x3c')+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')]('TypeOfSignature\x20=\x20\x22Serie\x22'+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')](_0x40c1('0x3d')+_0x7573d1['EOL']);_0x49f538[_0x40c1('0x31')](_0x40c1('0x3e')+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')]('signature1\x20=\x20\x228cfdc6d9529c64b6f0c65de52a13377d\x22'+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')]('signature2\x20=\x20\x2272773b3a7afbf98f407b7405c46c7c72\x22'+_0x7573d1['EOL']);_0x49f538[_0x40c1('0x31')](_0x40c1('0x3f')+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')](_0x40c1('0x40')+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')](_0x40c1('0x41')+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')](_0x40c1('0x42')+_0x7573d1[_0x40c1('0x33')]);_0x49f538['write'](_0x40c1('0x43')+_0x7573d1[_0x40c1('0x33')]);_0x49f538[_0x40c1('0x31')](_0x40c1('0x44')+_0x7573d1[_0x40c1('0x33')]);_0x49f538['end']();}[_0x40c1('0x23')](){const _0x37ffd5=_0x5c398b[_0x40c1('0x45')](_0x40c1('0x46'));const _0x57a14b=_0x57d12b[_0x40c1('0x47')](tarDestination);const _0x35ea69=_0x57d12b[_0x40c1('0x2b')](checksumDestination,{'flags':'w'});_0x57a14b['on']('data',_0x914812=>_0x37ffd5[_0x40c1('0x48')](_0x914812));return new Promise((_0x41cf8d,_0x18dd9b)=>{_0x57a14b['on'](_0x40c1('0x38'),()=>{const _0xee8e36=_0x37ffd5[_0x40c1('0x49')](_0x40c1('0x4a'));_0x35ea69['write'](_0xee8e36+_0x7573d1[_0x40c1('0x33')]);_0x35ea69[_0x40c1('0x38')]();_0x41cf8d();});});}[_0x40c1('0x4b')](){const _0x2a08dc=this;return new Promise((_0x55572a,_0x1f79de)=>{function _0x5aba7e(){const _0x37cea5=_0x57d12b[_0x40c1('0x2b')](zipFile);const _0x404105=_0x1f728e('zip',{'zlib':{'level':0x9}});_0x37cea5['on'](_0x40c1('0x4c'),function(){_0x2a08dc[_0x40c1('0x26')](_0x40c1('0x4d')+_0x404105[_0x40c1('0x4e')]()+_0x40c1('0x4f'));});_0x404105['on'](_0x40c1('0x6'),_0x202036=>{throw _0x202036&&_0x1f79de(_0x202036);});_0x404105['pipe'](_0x37cea5);_0x404105[_0x40c1('0x50')](zipDir,![]);_0x404105[_0x40c1('0x51')]();_0x55572a();}if(_0x57d12b[_0x40c1('0x2c')](zipFile)){_0x57d12b['unlink'](zipFile,_0x48cce4=>{if(_0x48cce4){console[_0x40c1('0x6')](_0x48cce4);_0x1f79de(_0x48cce4);}_0x5aba7e();});}else{_0x5aba7e();}});}[_0x40c1('0x52')](){switch(process[_0x40c1('0x53')]){case _0x40c1('0x54'):case _0x40c1('0x55'):case _0x40c1('0x56'):osType='linux';break;case _0x40c1('0x57'):osType=_0x40c1('0x58');break;case _0x40c1('0x59'):osType=_0x40c1('0x5a');break;}}[_0x40c1('0x26')](_0x2cc598){console['log'](new Date()+(':\x20'+_0x2cc598));}['copyFile'](_0x35bf5d,_0x4e9f09){return new Promise((_0x35f7ff,_0x3a3fca)=>{let _0x4356b9=_0x57d12b['createReadStream'](_0x35bf5d);_0x4356b9[_0x40c1('0x5b')](_0x40c1('0x6'),_0x3b51c1=>{this[_0x40c1('0x26')](_0x3b51c1);_0x3a3fca(_0x3b51c1);});_0x4356b9[_0x40c1('0x5b')](_0x40c1('0x38'),()=>{_0x35f7ff();});_0x4356b9[_0x40c1('0x2a')](_0x57d12b[_0x40c1('0x2b')](_0x4e9f09));});}}const _0x268fef=new _0x59335a();_0x268fef[_0x40c1('0x1b')]();
